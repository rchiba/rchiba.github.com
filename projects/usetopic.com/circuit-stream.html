<!DOCTYPE html><!--  Last Published: Mon Jul 01 2024 22:56:14 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5fa307a09e0f6144a49d45ad" data-wf-site="5d7bfb33d27da2d97219c009">
<head>
  <meta charset="utf-8">
  <title>Circuit Stream Case Study</title>
  <meta content="After integrating Topic into his content creation process and SEO research workflow, Dejan was able to grow monthly organic search traffic from 8,000, to 24,000." name="description">
  <meta content="Circuit Stream Case Study" property="og:title">
  <meta content="After integrating Topic into his content creation process and SEO research workflow, Dejan was able to grow monthly organic search traffic from 8,000, to 24,000." property="og:description">
  <meta content="Circuit Stream Case Study" property="twitter:title">
  <meta content="After integrating Topic into his content creation process and SEO research workflow, Dejan was able to grow monthly organic search traffic from 8,000, to 24,000." property="twitter:description">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/topic.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Varela Round:400","Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <link href="https://www.usetopic.com/circuit-stream" rel="canonical">
  <script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-154625711-1', 'auto');ga('send', 'pageview');</script><!--  Google Tag Manager  -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WBZKRML');</script>
  <!--  End Google Tag Manager  -->
  <!--  Segment  -->
  <script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.13.1";
  analytics.load("70kIvsme9NbN9yeRxYEsbKE7YzxW3qEz");
  analytics.page();
  }}();
</script>
  <!--  End Segment  -->
  <!--  Start VWO Async SmartCode  -->
  <script type="text/javascript">
window._vwo_code = window._vwo_code || (function(){
var account_id=545700,
settings_tolerance=2000,
library_tolerance=2500,
use_existing_jquery=false,
is_spa=1,
hide_element='body',
/* DO NOT EDIT BELOW THIS LINE */
f=false,d=document,code={use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){
window.settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b=hide_element?hide_element+'{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}':'',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('https://dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&f='+(+is_spa)+'&r='+Math.random());return settings_timer; }};window._vwo_settings_timer = code.init(); return code; }());
</script>
  <!--  End VWO Async SmartCode  -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>
<body>
  <div class="h06 topic">
    <div class="h06_container magoosh">
      <div class="h06_block magoosh">
        <h1 class="h06_h1 magoosh">How Circuit Stream Grew Their Organic Search Traffic By 300% with Topic</h1>
        <p class="h06_text-2 magoosh">Learn how Circuit Stream grew their monthly organic pageviews and cut their content research time in half.<br></p>
      </div>
    </div>
  </div>
  <div class="section">
    <div class="container-13 w-container">
      <div class="customer-story-audiogram-center">
        <div class="customer-story-audiogram">
          <div class="customer-story-audiogram-label">Listen to Dejan&#x27;s Story üëá</div>
          <div class="customer-story-audiogram-holder">
            <div style="padding-top:100%" class="video-2 w-video w-embed"><iframe class="embedly-embed" src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fplayer.vimeo.com%2Fvideo%2F475570577%3Fapp_id%3D122963&dntp=1&display_name=Vimeo&url=https%3A%2F%2Fvimeo.com%2F475570577&image=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F988474779_640.jpg&key=96f1f04c5f4143bcb0f2e68c87d65feb&type=text%2Fhtml&schema=vimeo" scrolling="no" title="Vimeo embed" frameborder="0" allow="autoplay; fullscreen" allowfullscreen="true"></iframe></div>
          </div>
        </div>
      </div>
      <h3 class="heading-17"><strong><br>About Circuit Stream</strong></h3><img src="images/circuit-stream.jpg" loading="lazy" alt="" class="image-75">
      <p class="paragraph-38"><br>
        <a href="https://circuitstream.com">Circuit Stream</a> is an IT agency offering AR/VR training, learning, and software services to help businesses master immersive technology. Since 2015, Circuit Stream has helped +25,000 people learn to design and develop virtual reality and augmented reality applications.<br>‚Äç<br>‚ÄúSEO is important for Circuit Stream because AR/VR is still a new industry‚Äù, says <a href="https://www.linkedin.com/in/dgajsek/">Dejan Gajsek</a>, Head of Marketing at Circuit Stream, ‚Äúand our goal is to get the most leverage and traffic through organic channels.‚Äù <br><br>Dejan‚Äôs team writes about 20 articles every month, and content creation is how he helps Circuit Stream build awareness and generate leads. <br><br>When it comes to creating content, ‚ÄúYou have to create a better answer with more information and make it more actionable. That&#x27;s the recipe for success.‚Äù¬†<br><br>After integrating Topic into his content creation process and SEO research workflow, Dejan was able to<strong> grow monthly organic search traffic from 8,000, to 24,000 (+300%)</strong>.<br>‚Äç
      </p>
      <h3><strong>The Challenge</strong></h3>
      <p>Before Dejan integrated Topic into the process, he spent hours developing outlines for his writers.¬†<br><br>‚ÄúOne tool that we use is Ahrefs, which is a tremendous help, but it doesn‚Äôt tell you what you need to do to reach the top spots.‚Äù<br><br>Using keywords from Ahrefs, Dejan used Google to manually inspect the most popular articles to understand how to structure his outline.<br><br>The process was time-consuming but necessary because, according to Dejan, ‚ÄúBeating the competition is essential, and the only way to do it is to be adamant about your research. SEO is a winner-take-all channel, with the vast majority of traffic going to the top results.‚Äù<br><br></p>
      <h3><strong>The Solution</strong></h3>
      <p>Looking for a way to make the content creation process more efficient, Dejan was in the market for a tool that could help.¬†<br><br>After doing his research on the available tools, he decided to try out Topic.¬†<br><br>‚ÄúIt was so easy to test. And when I saw the inside of the product, I loved how it just gives you what you need and not a bulk of unnecessary features.‚Äù, says Dejan.<br><br>Dejan integrated Topic into his workflow and used the technology to find key subtopics to cover in his articles. He then created content outlines for his writers and used the Topic Content Grader to assess the results.¬†<br>‚Äç<br></p><img src="images/Screen-Shot-2020-11-04-at-2.25.38-PM.png" loading="lazy" sizes="(max-width: 479px) 96vw, (max-width: 767px) 97vw, (max-width: 991px) 728px, (max-width: 1279px) 37vw, (max-width: 1439px) 44vw, (max-width: 1919px) 49vw, 940px" srcset="images/Screen-Shot-2020-11-04-at-2.25.38-PM-p-500.png 500w, images/Screen-Shot-2020-11-04-at-2.25.38-PM-p-800.png 800w, images/Screen-Shot-2020-11-04-at-2.25.38-PM-p-1080.png 1080w, images/Screen-Shot-2020-11-04-at-2.25.38-PM.png 1221w" alt="" class="image-72">
      <p><br>‚ÄúThe letter-based grading system has gamified the content optimization process for our team. I‚Äôm a task-oriented person and I love seeing that my content is an A+ before publishing.‚Äù<br><br>Integrating Topic into his workflow was seamless and his team was able to adopt it quickly. &quot;My writers have told me: ‚ÄòI didn&#x27;t know this tool existed, it makes so much sense‚Äô&quot;</p>
      <h3><strong>The Results</strong></h3>
      <p><br>After optimizing a handful of articles with Topic, Dejan saw initial results in as early as two weeks.¬†<br>‚Äç<br>Guides targeting valuable keywords like &quot;vive vs oculus&quot; jumped from page 2 to the top of page 1:<br>‚Äç<br></p><img src="images/circuit-stream-ranking.png" loading="lazy" sizes="(max-width: 479px) 96vw, (max-width: 767px) 97vw, (max-width: 991px) 728px, (max-width: 1279px) 37vw, (max-width: 1439px) 44vw, (max-width: 1919px) 49vw, 940px" srcset="images/circuit-stream-ranking-p-500.png 500w, images/circuit-stream-ranking-p-800.png 800w, images/circuit-stream-ranking-p-1080.png 1080w, images/circuit-stream-ranking.png 1138w" alt="" class="image-74">
      <p><br>Over a six-month period following Circuit Stream&#x27;s use of Topic, the site&#x27;s organic search traffic grew from 8,000, to 24,000 (+300%).<br>‚Äç<br></p><img src="images/circuit-stream-results.png" loading="lazy" sizes="(max-width: 479px) 96vw, (max-width: 767px) 97vw, (max-width: 991px) 728px, (max-width: 1279px) 37vw, (max-width: 1439px) 44vw, (max-width: 1919px) 49vw, 940px" srcset="images/circuit-stream-results-p-500.png 500w, images/circuit-stream-results-p-800.png 800w, images/circuit-stream-results-p-1080.png 1080w, images/circuit-stream-results.png 1099w" alt="">
      <p><br>Dejan now uses Topic for content marketing every day. ‚ÄúIt‚Äôs strange to say, but I‚Äôm emotionally connected with the user interface. I love the clean design and the personal attention from you guys, the founders.‚Äù</p>
      <div class="t01_container">
        <h3 class="t01_quote">&quot;</h3>
        <h3 class="t01_h3"><strong>I would describe Topic as a complete answer to give you the confidence to rank and get the organic traffic that you need.</strong></h3>
        <div class="t01_team_wrap"><img src="images/dejan-gajsek.jpeg" alt="" class="t01_image magoosh">
          <div class="t01_name">Dejan Gajsek</div>
          <div class="t01_job_title">Managing Editor of SEO¬†Content</div>
        </div>
      </div>
    </div>
  </div>
  <div class="section-strip">
    <div class="container-full-2 w-container">
      <div class="strip-wrapper">
        <h2 class="h2">Start Writing Better Content Today</h2>
        <div class="button-row">
          <a href="https://app.usetopic.com/profile/sign_up?trial=true" class="h08_button case-study trial landing w-button">$7 for Your First 3 Content Briefs</a>
          <a href="#" data-w-id="861fe19c-13b4-7bf6-b5ec-68b413081552" class="h08_button case-study w-button">Request Demo</a>
        </div>
      </div>
    </div>
  </div>
  <div>
    <div class="f07">
      <div class="f07_container">
        <div class="f07_top_wrap"><img src="images/logo-rectangle.png" width="130" alt="logo" height="50" class="f07_logo">
          <div class="f07_wrap_right">
            <a href="#" class="f07_link w-inline-block">
              <div class="f07_text">3739 Balboa Street, Unit #5043<br>San Francisco, CA 94121<br></div>
            </a>
          </div>
        </div>
        <div class="f07_bottom_wrap">
          <div class="div-block-169">
            <div class="footer-heading">Solutions</div>
            <a href="content-optimization.html" target="_blank" class="link-12 footer-link">Content Optimization</a>
            <a href="content-writing-tool.html" target="_blank" class="link-12 footer-link">Content Writing</a>
            <a href="content-analysis-tool.html" target="_blank" class="link-12 footer-link">Content Analysis</a>
            <a href="copilot.html" class="link-12 footer-link">Copilot</a>
          </div>
          <div class="div-block-169">
            <div class="footer-heading">Compare<br>‚Äç</div>
            <a href="clearscope-alternative.html" target="_blank" class="link-12 footer-link">Clearscope</a>
            <a href="https://www.usetopic.com/blog/the-best-marketmuse-alternative-for-content-briefs-creation/" target="_blank" class="link-12 footer-link">Marketmuse</a>
            <a href="https://www.usetopic.com/blog/surfer-seo-alternatives/" target="_blank" class="link-12 footer-link">Surfer SEO</a>
            <a href="https://www.usetopic.com/blog/frase-alternative/" target="_blank" class="link-12 footer-link">Frase</a>
          </div>
          <div>
            <div class="footer-heading">Links<br>‚Äç</div>
            <div>
              <a href="privacy.html" target="_blank" class="link-12 footer-link">Privacy¬†Policy</a>
            </div>
            <div class="div-block-170">
              <a href="terms-of-service.html" target="_blank" class="link-12 footer-link">Terms of Service</a>
            </div>
            <div class="div-block-170">
              <a href="affiliates.html" class="link-12 footer-link">Affiliate Program</a>
            </div>
            <div class="div-block-170">
              <a href="https://usetopic.zendesk.com/" target="_blank" class="link-12 footer-link">Support</a>
            </div>
            <div class="div-block-170">
              <a href="https://www.linkedin.com/company/usetopic/" target="_blank" class="link-12 footer-link">LinkedIn</a>
            </div>
            <div class="div-block-170">
              <a href="https://www.youtube.com/channel/UCHNv36uTw_O3lkoiP_uwGqQ" target="_blank" class="link-12 footer-link">YouTube</a>
            </div>
            <div class="div-block-170">
              <a href="https://status.usetopic.com/" target="_blank" class="link-12 footer-link">Status Page</a>
            </div>
          </div>
          <div>
            <div class="footer-heading">Resources</div>
            <div class="div-block-170">
              <a href="https://www.usetopic.com/blog" target="_blank" class="link-12 footer-link">Topic Blog</a>
            </div>
            <div class="div-block-170">
              <a href="https://www.usetopic.com/wordpress-table-of-contents" target="_blank" class="link-12 footer-link">Table of Contents Tool</a>
            </div>
            <div class="div-block-170">
              <a href="archived/blog-idea-generator.html" target="_blank" class="link-12 footer-link">Blog Idea Tool</a>
            </div>
            <div class="div-block-170">
              <a href="people-also-ask.html" target="_blank" class="link-12 footer-link">People Also Ask Tool</a>
            </div>
            <div class="div-block-170">
              <a href="the-ultimate-guide-to-writing-seo-content-in-2020.html" target="_blank" class="link-12 footer-link">SEO¬†Content Guide</a>
            </div>
          </div>
          <div class="f07_legal footer-heading">¬©2021 Chia Labs¬†Inc. All rights reserved.</div>
        </div>
      </div>
      <div data-w-id="1a10e1cb-1fb2-efcc-86e6-e31288499ee9" class="modal-wrapper">
        <div class="m02 demo-modal"><img src="images/logo-square.png" alt="" class="m02_icon">
          <div class="m02_title demo-modal">Request a Demo</div>
          <div class="div-block-126">
            <div class="text-block-43">After filling out this form, you&#x27;ll receive a link<br>to book a time with us.</div>
          </div>
          <div class="html-embed demo-embed w-embed w-script">
            <script charset="utf-8" type="text/javascript" src="https://js.hsforms.net/forms/shell.js"></script>
            <script>
  hbspt.forms.create({
	portalId: "6847770",
	formId: "1afa2b4e-0dc5-4741-9e73-cc5f3358f961"
});
</script>
          </div>
          <a href="#" class="m02_exit w-inline-block"><img src="images/x_1.svg" width="16.5" data-w-id="1a10e1cb-1fb2-efcc-86e6-e31288499ef5" alt=""></a>
        </div>
      </div>
    </div>
  </div>
  <header class="temp_nav_wrap">
    <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="temp_nav w-nav">
      <div class="div-block-179">
        <div class="text-block-66">üéâ Announcement: We&#x27;ve joined the CafeMedia family ‚Äî <a href="https://www.usetopic.com/blog/announcement-weve-joined-the-cafemedia-family/" target="_blank" class="link-34">read more here</a>.</div>
      </div>
      <div class="temp_nav_container">
        <a href="index.html" class="temp_logo w-nav-brand"><img src="images/logo-rectangle.png" width="120" alt="" class="temp_logo_image"></a>
        <div class="temp_nav_right">
          <div class="temp_nav_links">
            <nav role="navigation" class="temp_nav_menu w-nav-menu">
              <a href="customers.html" class="temp_nav_link w-nav-link">Customers</a>
              <a href="agency.html" class="temp_nav_link w-nav-link">For Agencies</a>
              <a href="pricing.html" class="temp_nav_link w-nav-link">Pricing</a>
              <a href="about.html" class="temp_nav_link w-nav-link">About</a>
              <div data-hover="true" data-delay="100" class="nav03_dropdown topic w-dropdown">
                <div class="nav03_link w-dropdown-toggle">
                  <div class="navigation-text">Resources</div>
                </div>
                <nav class="nav03_dropdown_list w-dropdown-list">
                  <div class="nav03_dropdown_base">
                    <a href="people-also-ask.html" class="nav03_dropdown_link w-inline-block"><img src="images/question_icon_black.svg" alt="" class="nav03_image">
                      <div class="nav03_text">People Also Ask</div>
                    </a>
                  </div>
                  <div class="nav03_dropdown_base">
                    <a href="archived/blog-idea-generator.html" class="nav03_dropdown_link w-inline-block"><img src="images/feather.svg" alt="" class="nav03_image">
                      <div class="nav03_text">Idea Generator</div>
                    </a>
                  </div>
                  <div class="nav03_dropdown_base">
                    <a href="https://www.usetopic.com/wordpress-table-of-contents" target="_blank" class="nav03_dropdown_link w-inline-block"><img src="images/sidebar.svg" alt="" class="nav03_image">
                      <div class="nav03_text">Table of Contents Generator</div>
                    </a>
                  </div>
                  <div class="nav03_dropdown_base">
                    <a href="https://www.usetopic.com/blog-post-length" target="_blank" class="nav03_dropdown_link w-inline-block"><img src="images/target.svg" alt="" class="nav03_image">
                      <div class="nav03_text">Word Count Calculator</div>
                    </a>
                  </div>
                  <div class="nav03_dropdown_base">
                    <a href="https://www.usetopic.com/blog" target="_blank" class="nav03_dropdown_link w-inline-block"><img src="images/layers.svg" alt="" class="nav03_image">
                      <div class="nav03_text">Topic Blog</div>
                    </a>
                  </div>
                </nav>
              </div>
              <a href="https://app.usetopic.com/" class="temp_nav_link w-nav-link">Sign In</a>
              <a href="#" data-w-id="a25e47e5-7a6e-7014-a213-0750f4feb4cf" class="temp_nav_link w-nav-link">Request Demo</a>
            </nav>
          </div>
          <a href="https://app.usetopic.com/profile/sign_up?trial=true" class="temp_nav_button trial w-button">Try it for Just $7</a>
          <a href="#" data-w-id="0a531577-bd47-d0a2-b8fd-e8708512379b" class="temp_nav_button w-button">REQUEST¬†DEMO</a>
        </div>
      </div>
    </div>
    <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="temp_mobile w-nav">
      <div class="div-block-179">
        <div class="text-block-66">üéâ Announcement: We&#x27;ve joined the CafeMedia family ‚Äî <a href="https://www.usetopic.com/blog/announcement-weve-joined-the-cafemedia-family/" target="_blank" class="link-35">read more here</a>.</div>
      </div>
      <div class="temp_mobile_wrap">
        <a href="index.html" class="temp_logo w-nav-brand"><img src="images/logo-rectangle.png" width="120" alt="" class="temp_logo_image"></a>
        <div class="temp_right">
          <div class="temp_links">
            <nav role="navigation" class="temp_nav_menu_main w-nav-menu">
              <a href="customers.html" class="temp_nav_link_main w-nav-link">Customers</a>
              <a href="agency.html" class="temp_nav_link_main w-nav-link">For Agencies</a>
              <a href="archived/pricing-mar2021.html" class="temp_nav_link_main w-nav-link">Pricing</a>
              <a href="about.html" class="temp_nav_link_main w-nav-link">About</a>
              <a href="contact.html" class="temp_nav_link_main w-nav-link">Contact</a>
              <a href="people-also-ask.html" class="temp_nav_link_main w-nav-link">Free Tool - People Also Asker</a>
              <a href="#" class="temp_nav_link_main w-nav-link">SEO¬†Content Guide</a>
              <a href="https://app.usetopic.com/" class="temp_nav_link_main w-nav-link">Sign In</a>
            </nav>
          </div>
          <div class="temp_nav_btn w-nav-button">
            <div class="temp_icon w-icon-nav-menu"></div>
          </div>
        </div>
      </div>
    </div>
  </header>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5d7bfb33d27da2d97219c009" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script><!--  Google Tag Manager (noscript)  -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WBZKRML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!--  End Google Tag Manager (noscript)  -->
  <!--  Start of Custom Code -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.15/lodash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
  <style>
  .trial-error{
    position: absolute;
    top: 44px;
    color: red;
    width: 100%;
    padding-right: 20px;
  }
</style>
  <script>
  // This file is used on webflow as a custom script and is stored in this repository to keep it in version control
  // If you update this, then you will need to login to webflow and update the page. The app does not serve this code!
  $(document).ready(function(){
    var formState = 'collectingURL';
    var url, keyword, email;
    function isUrl(s) {
     var regexp = /(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/
     return regexp.test(s);
    }
    function isEmail(email) {
      var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(String(email).toLowerCase());
    }
    function isWorkEmail(email){
      var re = /@gmail\.com|@yahoo\.com|@protonmail\.com|@aol\.com|@gmx\.com|@yandex\.ru|@icloud\.com/ 
      return !re.test(String(email).toLowerCase());
    }
    function showValidationError(message){
      $('.trial-error').remove();
      $('.trial-form input[type="text"]').attr('style', 'border: 1px solid red');
      $('<div class="trial-error">'+message+'</div>').insertAfter('.trial-form input[type="text"]');
    }
    function resetValidation(){
      $('.trial-form input[type="text"]').attr('style', '');
      $('.trial-form .trial-error').remove();
    }
    function getCookie(name) {
      var v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');
      return v ? v[2] : null;
    }
    function submitAndRedirect(){
      var portalId = '6847770';
      var formGuid = '16839211-027c-416b-a352-0479de227ea7';
      $.ajax({
        url: `https://api.hsforms.com/submissions/v3/integration/submit/${portalId}/${formGuid}`, 
        type: 'POST',
        dataType: 'json',
        contentType: "application/json; charset=utf-8",
        data: JSON.stringify({
          fields:[{
            name: 'email',
            value: email
          },{
            name: 'trial_keyword',
            value: keyword
          },{
            name: 'trial_url',
            value: url
          }],
          context:{
            hutk: getCookie('hubspotutk'),
            pageUri: window.location.href,
            pageName: document.title 
          }
        })
      }).done(function(){
        console.log('form submitted, redirecting');
        window.location.href = `https://app.usetopic.com/anon?email=${encodeURIComponent(email)}&keyword=${encodeURIComponent(keyword)}&url=${encodeURIComponent(url)}`
      }).fail(function(){
        showValidationError('Something went wrong, please contact support@usetopic.com');
      });
    }
    function initializeForm(){
      $('.trial-form input[type="submit"]').click(function(e){
        e.preventDefault();
        e.stopPropagation();
        if(formState === 'collectingURL'){
          url = $('.trial-form input[type="text"]').val().trim();
          if(!isUrl(url)){
            showValidationError('Please enter a valid URL');
          } else {
            resetValidation();
            $('.trial-form input[type="text"]').val('').attr('placeholder', 'keyword');
            $('.trial-form label').text('Enter the main keyword for the blog post');
            $('.trial-form input[type="submit"]').attr('value', 'Continue');
            formState = 'collectingKeyword';
          }
        } else if(formState === 'collectingKeyword'){
          keyword = $('.trial-form input[type="text"]').val().trim();
          if(_.isEmpty(keyword)){
            showValidationError('Please enter a valid keyword');
          } else {
            resetValidation();
            $('.trial-form input[type="text"]').val('').attr('placeholder', 'email@example.com');
            $('.trial-form label').text('Enter your work email');
            $('.trial-form input[type="submit"]').attr('value', 'Get Access');
            formState = 'collectingEmail';
          }
        } else if(formState === 'collectingEmail'){
          email = $('.trial-form input[type="text"]').val().trim(); 
          if(!isEmail(email)){
            showValidationError('Please enter valid email');
          }else if(!isWorkEmail(email)){
            showValidationError('Please enter a work email address');
          }else {
            // submit the form to hubspot, then redirect to the application to create the anonymous report
            console.log(url, keyword, email);
            submitAndRedirect();
          }
        }
      });
    }
    initializeForm();
  });
</script>
</body>
</html>